<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>API documentation &mdash; gapipes 0.0.0 documentation</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono"><link rel="stylesheet" href="_static/typlog.css?v=0.7.3" type="text/css" />
  <link rel="stylesheet" href="_static/theme.css?v=0.7.3" type="text/css" /><link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
      <link rel="index" title="Index" href="genindex.html"/>
      <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="gapipes 0.0.0 documentation" href="index.html"/>
      <link rel="prev" title="Using pandas accessors" href="using-accessors-and-pipes.html"/>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create', 'UA-37308551-2');ga('send', 'pageview');</script>
  <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="gapipes">
  <meta property="og:title" content="API documentation">
    <meta property="og:description" content="Lightweight collection of routines for fast exploration of Gaia+">
  <meta name="twitter:card" content="summary">
</head>
<body role="document" data-page="api">
  <header class="t-head">
    <div class="t-head_menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M64 384h384v-42.666H64V384zm0-106.666h384v-42.667H64v42.667zM64 128v42.665h384V128H64z"/></svg></div>
    <a class="t-head_logo" href="index.html">gapipes
    </a>
  </header>
  <aside class="t-sidebar">
    <div class="t-sidebar_close">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"/></svg>
    </div>
    <div class="inner">
<a class="logo" href="index.html">
    gapipes
</a><div class="logo_desc">Lightweight collection of routines for fast exploration of Gaia+</div>
<div class="github_wrap">
  <a class="github" href="https://github.com/smoh/gapipes" target="_blank">
    <span class="github_icon"></span>
    <span class="github_stars">
      <strong>-</strong>stars
    </span>
    <span class="github_forks">
      <strong>-</strong>forks
    </span>
  </a>
</div><div class="globaltoc">
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Accessing GaiaArchive with TAP+</a><ul>
<li class="toctree-l2"><a class="reference internal" href="getting-started.html#Why-another-Gaia-TAP-client?">Why another Gaia TAP client?</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting-started.html#Getting-started">Getting started</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting-started.html#Inspecting-table-meta-data">Inspecting table meta data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="getting-started.html#Getting-information-about-specific-table(s)">Getting information about specific table(s)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="getting-started.html#Query-the-Gaia-database">Query the Gaia database</a><ul>
<li class="toctree-l3"><a class="reference internal" href="getting-started.html#Synchronous-queries">Synchronous queries</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting-started.html#Asynchronous-queries">Asynchronous queries</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="getting-started.html#Using-authenticated-service">Using authenticated service</a><ul>
<li class="toctree-l3"><a class="reference internal" href="getting-started.html#Managing-user-tables">Managing user tables</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="using-accessors-and-pipes.html">Using pandas accessors</a><ul>
<li class="toctree-l2"><a class="reference internal" href="using-accessors-and-pipes.html#What-are-pandas-accessors?">What are pandas accessors?</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#summary-of-custom-methods-and-attributes">Summary of custom methods and attributes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#under-dataframe-g">Under DataFrame.g</a></li>
<li class="toctree-l3"><a class="reference internal" href="#under-series-g">Under Series.g</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#accessors">Accessors</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-gapipes.pipes">Pipes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gaia">Gaia</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-gapipes.gaia.utils">Utils</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/api.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox">
  <form class="search" action="search.html" method="get">
    <div class="input-group">
      <input type="text" name="q" placeholder="Search" />
      <button type="submit">Go</button>
    </div>
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
    </div>
  </aside>
  <div class="t-content">
    <div class="t-body yue">
      <div class="versionchanged">
        <p>The code in under active development!</p>
      </div>
      
  <div class="section" id="api-documentation">
<h1>API documentation<a class="headerlink" href="#api-documentation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="summary-of-custom-methods-and-attributes">
<span id="summary-custom"></span><h2>Summary of custom methods and attributes<a class="headerlink" href="#summary-of-custom-methods-and-attributes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="under-dataframe-g">
<h3>Under DataFrame.g<a class="headerlink" href="#under-dataframe-g" title="Permalink to this headline">¶</a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#gapipes.accessors.GaiaData.correct_brightsource_pm" title="gapipes.accessors.GaiaData.correct_brightsource_pm"><code class="xref py py-obj docutils literal notranslate"><span class="pre">correct_brightsource_pm</span></code></a>([gmag_threshold])</p></td>
<td><p>Correct bright source proper motions for rotation bias.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gapipes.accessors.GaiaData.make_cov" title="gapipes.accessors.GaiaData.make_cov"><code class="xref py py-obj docutils literal notranslate"><span class="pre">make_cov</span></code></a>([columns])</p></td>
<td><p>Generate covariance matrix from Gaia data</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gapipes.accessors.GaiaData.plot_xyz_icrs" title="gapipes.accessors.GaiaData.plot_xyz_icrs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_xyz_icrs</span></code></a>(*args, **kwargs)</p></td>
<td><p>Plot xyz coordinates in ICRS</p></td>
</tr>
</tbody>
</table>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#gapipes.accessors.GaiaData.distmod" title="gapipes.accessors.GaiaData.distmod"><code class="xref py py-obj docutils literal notranslate"><span class="pre">distmod</span></code></a></p></td>
<td><p>Distance modulus M = m + DM</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">galactic</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gapipes.accessors.GaiaData.icrs" title="gapipes.accessors.GaiaData.icrs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">icrs</span></code></a></p></td>
<td><p>ICRS coordinates of sources using all available columns</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gapipes.accessors.GaiaData.vdec" title="gapipes.accessors.GaiaData.vdec"><code class="xref py py-obj docutils literal notranslate"><span class="pre">vdec</span></code></a></p></td>
<td><p>Velocity [km/s] in Decl.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gapipes.accessors.GaiaData.vdec_error" title="gapipes.accessors.GaiaData.vdec_error"><code class="xref py py-obj docutils literal notranslate"><span class="pre">vdec_error</span></code></a></p></td>
<td><p>Velocity error [km/s] in Decl.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gapipes.accessors.GaiaData.vra" title="gapipes.accessors.GaiaData.vra"><code class="xref py py-obj docutils literal notranslate"><span class="pre">vra</span></code></a></p></td>
<td><p>Velocity [km/s] in R.A.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#gapipes.accessors.GaiaData.vra_error" title="gapipes.accessors.GaiaData.vra_error"><code class="xref py py-obj docutils literal notranslate"><span class="pre">vra_error</span></code></a></p></td>
<td><p>Velocity error [km/s] in R.A.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="under-series-g">
<h3>Under Series.g<a class="headerlink" href="#under-series-g" title="Permalink to this headline">¶</a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#gapipes.accessors.GaiaSource.make_cov" title="gapipes.accessors.GaiaSource.make_cov"><code class="xref py py-obj docutils literal notranslate"><span class="pre">make_cov</span></code></a>()</p></td>
<td><p>Generate covariance matrix from Gaia table columns</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gapipes.accessors.GaiaSource.open_simbad" title="gapipes.accessors.GaiaSource.open_simbad"><code class="xref py py-obj docutils literal notranslate"><span class="pre">open_simbad</span></code></a>()</p></td>
<td><p>Open Simbad search for this source in default web browser.</p></td>
</tr>
</tbody>
</table>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#gapipes.accessors.GaiaSource.distmod" title="gapipes.accessors.GaiaSource.distmod"><code class="xref py py-obj docutils literal notranslate"><span class="pre">distmod</span></code></a></p></td>
<td><p>Distance modulus M = m + DM</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#gapipes.accessors.GaiaSource.icrs" title="gapipes.accessors.GaiaSource.icrs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">icrs</span></code></a></p></td>
<td><p>ICRS coordinate of the source</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="accessors">
<h2>Accessors<a class="headerlink" href="#accessors" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="gapipes.accessors.GaiaData">
<em class="property">class </em><code class="sig-prename descclassname">gapipes.accessors.</code><code class="sig-name descname">GaiaData</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.accessors.GaiaData" title="Permalink to this definition">¶</a></dt>
<dd><p>Gaia data table class/accessor</p>
<p>This class is designed to be accessed through a custom accessor “g”
to a pandas DataFrame containing a gaia_source table, e.g.,</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="n">icrs</span>
</pre></div>
</div>
<p>However, it should also work with any table class containing Gaia data
that has dict-like access:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="go">astropy.table.table.Table</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">GaiaData</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">icrs</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>df</strong> (<em>pandas.DataFrame, dict-like</em>) – Gaia data table</p>
</dd>
</dl>
<dl class="py method">
<dt id="gapipes.accessors.GaiaData.correct_brightsource_pm">
<code class="sig-name descname">correct_brightsource_pm</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">gmag_threshold</span><span class="o">=</span><span class="default_value">12.0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.accessors.GaiaData.correct_brightsource_pm" title="Permalink to this definition">¶</a></dt>
<dd><p>Correct bright source proper motions for rotation bias.</p>
<p>This function modifies the original DataFrame!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>gmag_threshold</strong> (<em>float, optional</em>) – Threshold G mag below which the correction is applied.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>original dataframe with pmra, pmdec modified for bright sources.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gapipes.accessors.GaiaData.distmod">
<em class="property">property </em><code class="sig-name descname">distmod</code><a class="headerlink" href="#gapipes.accessors.GaiaData.distmod" title="Permalink to this definition">¶</a></dt>
<dd><p>Distance modulus M = m + DM</p>
</dd></dl>

<dl class="py method">
<dt id="gapipes.accessors.GaiaData.icrs">
<em class="property">property </em><code class="sig-name descname">icrs</code><a class="headerlink" href="#gapipes.accessors.GaiaData.icrs" title="Permalink to this definition">¶</a></dt>
<dd><p>ICRS coordinates of sources using all available columns</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>AttributeError</strong> – If the table does not have ra, dec and parallax columns</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>coordinates</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>astropy.coordinates.ICRS</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gapipes.accessors.GaiaData.make_cov">
<code class="sig-name descname">make_cov</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">columns</span><span class="o">=</span><span class="default_value">['parallax', 'pmra', 'pmdec']</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.accessors.GaiaData.make_cov" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate covariance matrix from Gaia data</p>
<dl class="simple">
<dt>columns<span class="classifier">list</span></dt><dd><p>list of columns to calculate covariance.
Must be a subset of ‘ra’, ‘dec’ ‘parallax’, ‘pmra’, ‘pmdec’.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>(N, number of columns) array of covariance matrices</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gapipes.accessors.GaiaData.plot_xyz_icrs">
<code class="sig-name descname">plot_xyz_icrs</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.accessors.GaiaData.plot_xyz_icrs" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot xyz coordinates in ICRS</p>
</dd></dl>

<dl class="py method">
<dt id="gapipes.accessors.GaiaData.vdec">
<em class="property">property </em><code class="sig-name descname">vdec</code><a class="headerlink" href="#gapipes.accessors.GaiaData.vdec" title="Permalink to this definition">¶</a></dt>
<dd><p>Velocity [km/s] in Decl. direction</p>
</dd></dl>

<dl class="py method">
<dt id="gapipes.accessors.GaiaData.vdec_error">
<em class="property">property </em><code class="sig-name descname">vdec_error</code><a class="headerlink" href="#gapipes.accessors.GaiaData.vdec_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Velocity error [km/s] in Decl. direction</p>
</dd></dl>

<dl class="py method">
<dt id="gapipes.accessors.GaiaData.vra">
<em class="property">property </em><code class="sig-name descname">vra</code><a class="headerlink" href="#gapipes.accessors.GaiaData.vra" title="Permalink to this definition">¶</a></dt>
<dd><p>Velocity [km/s] in R.A. direction</p>
</dd></dl>

<dl class="py method">
<dt id="gapipes.accessors.GaiaData.vra_error">
<em class="property">property </em><code class="sig-name descname">vra_error</code><a class="headerlink" href="#gapipes.accessors.GaiaData.vra_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Velocity error [km/s] in R.A. direction</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="gapipes.accessors.GaiaSource">
<em class="property">class </em><code class="sig-prename descclassname">gapipes.accessors.</code><code class="sig-name descname">GaiaSource</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.accessors.GaiaSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Gaia row class/accessor</p>
<p>This class is designed to be accessed through a custom accessor “g”
to a pandas Series containing a gaia_source row, e.g.,</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="n">icrs</span>
</pre></div>
</div>
<p>However, it should also work with any table class containing Gaia data
that has dict-like access:</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>s</strong> (<em>pandas.Series, dict-like</em>) – Gaia data table row for one source</p>
</dd>
</dl>
<dl class="py method">
<dt id="gapipes.accessors.GaiaSource.distmod">
<em class="property">property </em><code class="sig-name descname">distmod</code><a class="headerlink" href="#gapipes.accessors.GaiaSource.distmod" title="Permalink to this definition">¶</a></dt>
<dd><p>Distance modulus M = m + DM</p>
</dd></dl>

<dl class="py method">
<dt id="gapipes.accessors.GaiaSource.icrs">
<em class="property">property </em><code class="sig-name descname">icrs</code><a class="headerlink" href="#gapipes.accessors.GaiaSource.icrs" title="Permalink to this definition">¶</a></dt>
<dd><p>ICRS coordinate of the source</p>
</dd></dl>

<dl class="py method">
<dt id="gapipes.accessors.GaiaSource.make_cov">
<code class="sig-name descname">make_cov</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.accessors.GaiaSource.make_cov" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate covariance matrix from Gaia table columns</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>(3, 3) array of parallax, pmra, pmdec covariance matrices</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gapipes.accessors.GaiaSource.open_simbad">
<code class="sig-name descname">open_simbad</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.accessors.GaiaSource.open_simbad" title="Permalink to this definition">¶</a></dt>
<dd><p>Open Simbad search for this source in default web browser.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-gapipes.pipes">
<span id="pipes"></span><h2>Pipes<a class="headerlink" href="#module-gapipes.pipes" title="Permalink to this headline">¶</a></h2>
<p>Module containing frequent calculations on Gaia DataFrames</p>
<dl class="py class">
<dt id="gapipes.pipes.UWE0Calculator">
<em class="property">class </em><code class="sig-prename descclassname">gapipes.pipes.</code><code class="sig-name descname">UWE0Calculator</code><a class="headerlink" href="#gapipes.pipes.UWE0Calculator" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate unit weight error normalization for Gaia DR2 sources</p>
</dd></dl>

<dl class="py function">
<dt id="gapipes.pipes.add_a_g_error">
<code class="sig-prename descclassname">gapipes.pipes.</code><code class="sig-name descname">add_a_g_error</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.pipes.add_a_g_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract lerr and uerr of a_g from percentiles.</p>
<p>Returns df with a_g_lerr, a_g_uerr columns added.</p>
</dd></dl>

<dl class="py function">
<dt id="gapipes.pipes.add_gMag">
<code class="sig-prename descclassname">gapipes.pipes.</code><code class="sig-name descname">add_gMag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.pipes.add_gMag" title="Permalink to this definition">¶</a></dt>
<dd><p>Add absolute G Mag <cite>gMag</cite></p>
</dd></dl>

<dl class="py function">
<dt id="gapipes.pipes.add_ruwe">
<code class="sig-prename descclassname">gapipes.pipes.</code><code class="sig-name descname">add_ruwe</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.pipes.add_ruwe" title="Permalink to this definition">¶</a></dt>
<dd><p>Add renormalized unit weight error ‘ruwe’ column to df</p>
</dd></dl>

<dl class="py function">
<dt id="gapipes.pipes.add_uwe">
<code class="sig-prename descclassname">gapipes.pipes.</code><code class="sig-name descname">add_uwe</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.pipes.add_uwe" title="Permalink to this definition">¶</a></dt>
<dd><p>Add unit weight error ‘uwe’ column to df</p>
</dd></dl>

<dl class="py function">
<dt id="gapipes.pipes.add_vtan">
<code class="sig-prename descclassname">gapipes.pipes.</code><code class="sig-name descname">add_vtan</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.pipes.add_vtan" title="Permalink to this definition">¶</a></dt>
<dd><p>Add ‘vra’ and ‘vdec’ columns to Gaia DataFrame</p>
</dd></dl>

<dl class="py function">
<dt id="gapipes.pipes.add_vtan_errors">
<code class="sig-prename descclassname">gapipes.pipes.</code><code class="sig-name descname">add_vtan_errors</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.pipes.add_vtan_errors" title="Permalink to this definition">¶</a></dt>
<dd><p>Add ‘vra_error’ and ‘vdec_error’ columns to Gaia DataFrame</p>
</dd></dl>

<dl class="py function">
<dt id="gapipes.pipes.add_x">
<code class="sig-prename descclassname">gapipes.pipes.</code><code class="sig-name descname">add_x</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">frame</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">Unit('pc')</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.pipes.add_x" title="Permalink to this definition">¶</a></dt>
<dd><p>Add cartesian coordinates <cite>x</cite>, <cite>y</cite>, <cite>z</cite> of a given <cite>frame</cite></p>
</dd></dl>

<dl class="py function">
<dt id="gapipes.pipes.add_xv">
<code class="sig-prename descclassname">gapipes.pipes.</code><code class="sig-name descname">add_xv</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">frame</span></em>, <em class="sig-param"><span class="n">unit</span><span class="o">=</span><span class="default_value">Unit('pc')</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.pipes.add_xv" title="Permalink to this definition">¶</a></dt>
<dd><p>Add cartesian coordinates x, y, z, vx, vy, vz for a given <cite>frame</cite></p>
<dl class="simple">
<dt>df<span class="classifier">pd.DataFrame</span></dt><dd><p>Gaia DR2 data</p>
</dd>
<dt>frame<span class="classifier">astropy coordinate frame</span></dt><dd><p>Frame to calculate coordinates in</p>
</dd>
</dl>
<p>Returns df with x, y, z, vx, vy, vz columns added.</p>
</dd></dl>

<dl class="py function">
<dt id="gapipes.pipes.calculate_vtan_error">
<code class="sig-prename descclassname">gapipes.pipes.</code><code class="sig-name descname">calculate_vtan_error</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.pipes.calculate_vtan_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate tangential velocity errors with small error propagation</p>
<p>Returns (vra_error, vdec_error) in km/s</p>
</dd></dl>

<dl class="py function">
<dt id="gapipes.pipes.correct_brightsource_pm">
<code class="sig-prename descclassname">gapipes.pipes.</code><code class="sig-name descname">correct_brightsource_pm</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.pipes.correct_brightsource_pm" title="Permalink to this definition">¶</a></dt>
<dd><p>Get proper motions corrected for DR2 bright source rotational bias.</p>
<p>For G &lt;= 12, proper motions have a significant (0.15 mas/yr) rotation bias.
See Lindegren et al. for details.</p>
</dd></dl>

<dl class="py function">
<dt id="gapipes.pipes.flag_good_phot">
<code class="sig-prename descclassname">gapipes.pipes.</code><code class="sig-name descname">flag_good_phot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.pipes.flag_good_phot" title="Permalink to this definition">¶</a></dt>
<dd><p>Add ‘good_phot’ boolean column to the dataframe</p>
<p>TODO: explain</p>
</dd></dl>

<dl class="py function">
<dt id="gapipes.pipes.get_distmod">
<code class="sig-prename descclassname">gapipes.pipes.</code><code class="sig-name descname">get_distmod</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.pipes.get_distmod" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate distance modulus from parallax</p>
</dd></dl>

<dl class="py function">
<dt id="gapipes.pipes.make_cov">
<code class="sig-prename descclassname">gapipes.pipes.</code><code class="sig-name descname">make_cov</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">columns</span><span class="o">=</span><span class="default_value">['parallax', 'pmra', 'pmdec']</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.pipes.make_cov" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate covariance matrix from Gaia data</p>
<dl class="simple">
<dt>columns<span class="classifier">list</span></dt><dd><p>list of columns to calculate covariance.
Must be a subset of ‘ra’, ‘dec’ ‘parallax’, ‘pmra’, ‘pmdec’.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>(N, number of columns) array of covariance matrices</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="gapipes.pipes.make_icrs">
<code class="sig-prename descclassname">gapipes.pipes.</code><code class="sig-name descname">make_icrs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">include_pm_rv</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.pipes.make_icrs" title="Permalink to this definition">¶</a></dt>
<dd><p>Make ICRS coordinates from Gaia data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pandas.DataFrame, dict-like</em>) – Gaia DataFrame</p></li>
<li><p><strong>include_pm_rv</strong> (<em>bool, optional</em>) – Include proper motions and radial velocities</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>coordinates</strong> – coordinates</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>astropy.coordinates.ICRS</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="gaia">
<h2>Gaia<a class="headerlink" href="#gaia" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="gapipes.Tap">
<em class="property">class </em><code class="sig-prename descclassname">gapipes.</code><code class="sig-name descname">Tap</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">host</span></em>, <em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">protocol</span><span class="o">=</span><span class="default_value">'http'</span></em>, <em class="sig-param"><span class="n">port</span><span class="o">=</span><span class="default_value">80</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.Tap" title="Permalink to this definition">¶</a></dt>
<dd><p>Table Acess Protocol service client</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>host</strong> (<em>str</em>) – host name</p></li>
<li><p><strong>path</strong> (<em>str</em>) – server context</p></li>
<li><p><strong>protocol</strong> (<em>str</em>) – access protocol, usually ‘http’ or ‘https’</p></li>
<li><p><strong>port</strong> (<em>int</em>) – HTTP port; Default: 80 for http and 443 for https</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="gapipes.Tap.columns">
<em class="property">property </em><code class="sig-name descname">columns</code><a class="headerlink" href="#gapipes.Tap.columns" title="Permalink to this definition">¶</a></dt>
<dd><p>List of columns for all tables</p>
</dd></dl>

<dl class="py method">
<dt id="gapipes.Tap.from_url">
<em class="property">classmethod </em><code class="sig-name descname">from_url</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">url</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.Tap.from_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a Tap from url [http(s)://]host[:port][/path]</p>
</dd></dl>

<dl class="py method">
<dt id="gapipes.Tap.parse_result_table">
<em class="property">static </em><code class="sig-name descname">parse_result_table</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">response</span></em>, <em class="sig-param"><span class="n">format</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.Tap.parse_result_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the returned table according to its format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>response</strong> (<em>requests.Response</em>) – response to query from server</p></li>
<li><p><strong>format</strong> (<em>str</em>) – the table format, e.g., ‘csv’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gapipes.Tap.parse_tableset">
<em class="property">static </em><code class="sig-name descname">parse_tableset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">xml</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.Tap.parse_tableset" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse vod:tableset XML and return a list of (tables, columns)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>xml</strong> (<em>str</em>) – XML string to be parsed</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>tables, columns</strong> – list of tables and columns for all available tables</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gapipes.Tap.query">
<code class="sig-name descname">query</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">query</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">upload_resource</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">upload_table_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">output_format</span><span class="o">=</span><span class="default_value">'csv'</span></em>, <em class="sig-param"><span class="n">async_</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.Tap.query" title="Permalink to this definition">¶</a></dt>
<dd><p>Send query to TAP server</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<em>str</em>) – query or path containing query</p></li>
<li><p><strong>name</strong> (<em>str, optional</em>) – job name</p></li>
<li><p><strong>upload_resource</strong> (<em>path to votable file or pandas.DataFrame or astropy.table.Table</em>) – table to upload</p></li>
<li><p><strong>upload_table_name</strong> (<em>str</em>) – upload table name</p></li>
<li><p><strong>output_format</strong> (<em>str</em>) – one of ‘votable’, ‘votable_plain’, ‘csv’, ‘json’ or ‘fits’</p></li>
<li><p><strong>async_</strong> (<em>bool</em>) – True to launch an asynchronous job</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>The return type depends on whether you launch a synchronous or asynchronous query.</em></p></li>
<li><p><em>For synchronous queries</em></p></li>
<li><p><strong>table</strong> (<em>pd.DataFrame or astropy.table.Table</em>) – Query result</p></li>
<li><p><em>For asynchronous queries</em></p></li>
<li><p><strong>job</strong> (<em>Job instance</em>) – use <cite>job.get_result()</cite> to retrieve query result</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gapipes.Tap.tables">
<em class="property">property </em><code class="sig-name descname">tables</code><a class="headerlink" href="#gapipes.Tap.tables" title="Permalink to this definition">¶</a></dt>
<dd><p>List of available tables</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="gapipes.GaiaTapPlus">
<em class="property">class </em><code class="sig-prename descclassname">gapipes.</code><code class="sig-name descname">GaiaTapPlus</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">host</span></em>, <em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">protocol</span><span class="o">=</span><span class="default_value">'http'</span></em>, <em class="sig-param"><span class="n">port</span><span class="o">=</span><span class="default_value">80</span></em>, <em class="sig-param"><span class="n">server_context</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">upload_context</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.GaiaTapPlus" title="Permalink to this definition">¶</a></dt>
<dd><p>Gaia TAP+ Service</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>host</strong> (<em>str, optional, default None</em>) – host name</p></li>
<li><p><strong>server_context</strong> (<em>str, optional, default None</em>) – server context</p></li>
<li><p><strong>upload_context</strong> (<em>str, optional, default None</em>) – upload context</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="gapipes.GaiaTapPlus.delete_user_table">
<code class="sig-name descname">delete_user_table</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">table_name</span></em>, <em class="sig-param"><span class="n">force_removal</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.GaiaTapPlus.delete_user_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a user table</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table_name</strong> (<em>str</em>) – table to be removed</p></li>
<li><p><strong>force_removal</strong> (<em>bool, optional</em>) – flag to indicate if removal should be forced</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gapipes.GaiaTapPlus.get_table_info">
<code class="sig-name descname">get_table_info</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tables</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">only_tables</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">share_accessible</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.GaiaTapPlus.get_table_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Get table metadata for accessible tables</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tables</strong> (<em>str</em>) – comma-separated name of schema.tables to query
If None, list of all available tables is returned. This includes
user tables when logged in.</p></li>
<li><p><strong>only_tables</strong> (<em>bool</em>) – True to get table names only</p></li>
<li><p><strong>share_accessible</strong> (<em>bool</em>) – True to include shared tables</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>tables, columns</strong> – list of tables and columns</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><cite>only_tables</cite> is only effective when listing all tables (i.e., tables=None)</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The result depends on whether you are logged in or not.
If you are logged in, your user tables will also be included.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="gapipes.GaiaTapPlus.list_jobs">
<code class="sig-name descname">list_jobs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">kind</span><span class="o">=</span><span class="default_value">'async'</span></em>, <em class="sig-param"><span class="n">offset</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">limit</span><span class="o">=</span><span class="default_value">100</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.GaiaTapPlus.list_jobs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the list of jobs from server</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kind</strong> (<em>str, optional</em>) – ‘sync’ or ‘async’</p></li>
<li><p><strong>offset</strong> (<em>int, optional</em>) – number of jobs to skip</p></li>
<li><p><strong>limit</strong> (<em>int, optional</em>) – maximum number of jobs to return</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of jobs</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The result depends on whether you are logged in or not.
If you are logged in, only your jobs will be returned.
If you are not logged in, all anonymous jobs will be returned.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="gapipes.GaiaTapPlus.login">
<code class="sig-name descname">login</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">user</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">password</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">credentials_file</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.GaiaTapPlus.login" title="Permalink to this definition">¶</a></dt>
<dd><p>Login to TAP server</p>
<p>User and password arguments can be used or a file that contains user
name and password (2 lines: one for user name and the following one
for the password). If no arguments are provided, a prompt asking for
user name and password will appear.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user</strong> (<em>str, default None</em>) – login name</p></li>
<li><p><strong>password</strong> (<em>str, default None</em>) – user password</p></li>
<li><p><strong>credentials_file</strong> (<em>str, default None</em>) – file containing user and password in two lines</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gapipes.GaiaTapPlus.logout">
<code class="sig-name descname">logout</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.GaiaTapPlus.logout" title="Permalink to this definition">¶</a></dt>
<dd><p>Logout from TAP server</p>
</dd></dl>

<dl class="py method">
<dt id="gapipes.GaiaTapPlus.query_sourceid">
<code class="sig-name descname">query_sourceid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">table</span></em>, <em class="sig-param"><span class="n">source_id_column</span><span class="o">=</span><span class="default_value">'source_id'</span></em>, <em class="sig-param"><span class="n">columns</span><span class="o">=</span><span class="default_value">'*'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.GaiaTapPlus.query_sourceid" title="Permalink to this definition">¶</a></dt>
<dd><p>Query Gaia DR2 gaia_source table for a given list of “source_id”s.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table</strong> (<em>pd.DataFrame, astropy.table.Table</em>) – table containing source ids</p></li>
<li><p><strong>source_id_column</strong> (<em>str, optional</em>) – name of the column containing source_id</p></li>
<li><p><strong>columns</strong> (<em>list, optional</em>) – List of columns to retrieve
(the default is ‘*’, which will get all columns)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gapipes.GaiaTapPlus.upload_table">
<code class="sig-name descname">upload_table</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">upload_resource</span></em>, <em class="sig-param"><span class="n">table_name</span></em>, <em class="sig-param"><span class="n">table_description</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">format</span><span class="o">=</span><span class="default_value">'votable'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.GaiaTapPlus.upload_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Upload a table to the user private space</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>upload_resource</strong> (<em>object</em>) – table to be uploaded: pyTable, file or URL.</p></li>
<li><p><strong>table_name</strong> (<em>str</em>) – table name associated to the uploaded resource</p></li>
<li><p><strong>table_description</strong> (<em>str, optional</em>) – table description</p></li>
<li><p><strong>format</strong> (<em>str, optional</em>) – resource format
Available formats: ‘VOTable’, ‘CSV’ and ‘ASCII’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<div class="section" id="module-gapipes.gaia.utils">
<span id="utils"></span><h3>Utils<a class="headerlink" href="#module-gapipes.gaia.utils" title="Permalink to this headline">¶</a></h3>
<p>Utilities for parsing Tap and Gaia TapPlus HTML and XML responses</p>
<dl class="py class">
<dt id="gapipes.gaia.utils.Job">
<em class="property">class </em><code class="sig-prename descclassname">gapipes.gaia.utils.</code><code class="sig-name descname">Job</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.gaia.utils.Job" title="Permalink to this definition">¶</a></dt>
<dd><p>Job on a TAP server</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><p><strong>TODO</strong> (<em>#</em>) – </p>
</dd>
</dl>
<dl class="py method">
<dt id="gapipes.gaia.utils.Job.from_response">
<em class="property">classmethod </em><code class="sig-name descname">from_response</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">response</span></em>, <em class="sig-param"><span class="n">session</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.gaia.utils.Job.from_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Create Job from response from a TAP server</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>response</strong> (<em>requests.Response</em>) – response from POST to /async</p></li>
<li><p><strong>session</strong> (<em>requests.Session</em>) – session object</p></li>
<li><p><strong>Returns Job instance</strong></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gapipes.gaia.utils.Job.get_result">
<code class="sig-name descname">get_result</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sleep</span><span class="o">=</span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">wait</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.gaia.utils.Job.get_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the result or wait until ready</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sleep</strong> (<em>float</em>) – Delay between status update for a given number of seconds</p></li>
<li><p><strong>wait</strong> (<em>bool</em>) – set to wait until result is ready</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>table</strong> – votable result</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Astropy.Table</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gapipes.gaia.utils.Job.parse_xml">
<em class="property">static </em><code class="sig-name descname">parse_xml</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">xml</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.gaia.utils.Job.parse_xml" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse XML response from an async TAP job</p>
<dl class="simple">
<dt>xml<span class="classifier">str or xml.etree.ElemenTree.Element</span></dt><dd><p>xml to parse</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gapipes.gaia.utils.Job.phase">
<em class="property">property </em><code class="sig-name descname">phase</code><a class="headerlink" href="#gapipes.gaia.utils.Job.phase" title="Permalink to this definition">¶</a></dt>
<dd><p>Current status of the job</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="gapipes.gaia.utils.parse_html_error_response">
<code class="sig-prename descclassname">gapipes.gaia.utils.</code><code class="sig-name descname">parse_html_error_response</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">html</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.gaia.utils.parse_html_error_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a useful message from failed TAP request</p>
</dd></dl>

<dl class="py function">
<dt id="gapipes.gaia.utils.parse_tableset">
<code class="sig-prename descclassname">gapipes.gaia.utils.</code><code class="sig-name descname">parse_tableset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">xml</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.gaia.utils.parse_tableset" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse vod:tableset XML and return a list of tables</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>xml</strong> (<em>str</em>) – XML string to be parsed</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>tables, columns</strong> – tables of tables and columns available.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="gapipes.gaia.utils.parse_votable_error_response">
<code class="sig-prename descclassname">gapipes.gaia.utils.</code><code class="sig-name descname">parse_votable_error_response</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">response</span></em><span class="sig-paren">)</span><a class="headerlink" href="#gapipes.gaia.utils.parse_votable_error_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a useful message from server when response is not OK</p>
</dd></dl>

</div>
</div>
</div>

  <div class="t-pagination clearfix">
    <span>
      ← <a href="using-accessors-and-pipes.html" title="Using pandas accessors">Using pandas accessors</a>
    </span>
  </div>

    </div><footer class="t-foot">
    &copy; Copyright 2018-2020, Semyeong Oh.
    <br>
    A <a href="https://typlog.com/">typlog</a> <a href="https://github.com/typlog/sphinx-typlog-theme">sphinx theme</a>,
    designed by <a href="https://lepture.com/">Hsiaoming Yang</a>.
</footer>
  </div>
  <script>$(function(){$(".t-head_menu").on("click",function(){$("body").addClass("_expand")});$(".t-body").on("click",function(){$("body").removeClass("_expand")});$(".t-sidebar_close").on("click",function(){$("body").removeClass("_expand")});$("a.footnote-reference").on("click",function(e){e.preventDefault();var id=$(this).attr("href");var html=$(id).find("td.label + td").html();var w=Math.max(document.documentElement.clientWidth,window.innerWidth||0);var style="top:"+e.pageY+"px;";if(w>560){style+="width:480px;";if(e.pageX>240&&e.pageX+240<w){style+="left:"+(e.pageX-240)+"px;"}else if(e.pageX<=240){style+="left:20px;"}else{style+="right:20px;"}}showFootnote(html,style)});function showFootnote(html,style){var CONTENT_ID="typlog-footnote-content";var content=document.getElementById(CONTENT_ID);if(!content){content=document.createElement("div");content.id=CONTENT_ID;$(".t-body").append(content)}var MASK_ID="typlog-footnote-mask";var mask=document.getElementById(MASK_ID);if(!mask){mask=document.createElement("div");mask.id=MASK_ID;document.body.appendChild(mask);mask.addEventListener("click",function(){content.className="";mask.className=""})}content.innerHTML=html;content.setAttribute("style",style);content.className="_active";mask.className="_active"}function fetchGitHubRepo(repo){var url="https://api.github.com/repos/"+repo;$.getJSON(url,function(data){var counts=[+new Date,data.stargazers_count,data.forks_count];localStorage.setItem("gh:"+repo,JSON.stringify(counts));updateGitHubStats(counts[1],counts[2])})}function updateGitHubStats(stars,forks){$(".github_stars strong").text(stars);$(".github_forks strong").text(forks)}function initGitHub(url){if(!url){return}var repo=url.replace("https://github.com/","");var cache=localStorage.getItem("gh:"+repo);if(cache){try{var counts=JSON.parse(cache);updateGitHubStats(counts[1],counts[2]);var delta=new Date-counts[0];if(delta<0||delta>9e5){fetchGitHubRepo(repo)}}catch(error){fetchGitHubRepo(repo)}}else{fetchGitHubRepo(repo)}}initGitHub($(".github").attr("href"))});</script>
</body>
</html>